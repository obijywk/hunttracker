<!doctype html>
<html data-theme="{{#if enableDarkMode}}dark{{else}}light{{/if}}">
  <head>
    <title>{{appName}}</title>
    {{> favicon }}
    <link rel="stylesheet" type="text/css" href="{{staticUrl "style.css"}}">
  </head>
  <body>
    {{> menuheader index=true }}
    <div class="body-wrapper">
      <p>
        You're signed in as {{user.displayName}}. <a href="logout">Sign out</a>.
      </p>
      <p>
        Learn more about this app by <a href="{{helpUrl}}" target="_blank">reading the manual</a>.
      </p>
      <p>
        <form method="POST">
          <p>
            <input
              type="checkbox"
              id="useSlackWebLinks"
              name="useSlackWebLinks"
              {{#if useSlackWebLinks}}checked{{/if}}
              onchange="this.form.submit()">
            <label for="useSlackWebLinks">
              Use Slack web app (https://) links instead of
              Slack native app (slack://) links for Slack channels
            </label>
          </p>
          <p>
            <input
              type="checkbox"
              id="enableDarkMode"
              name="enableDarkMode"
              {{#if enableDarkMode}}checked{{/if}}
              onchange="this.form.submit()">
            <label for="enableDarkMode">
              Enable dark mode
            </label>
          </p>
          <p>
            <input
              type="checkbox"
              id="hideAnswers"
              name="hideAnswers"
              {{#if hideAnswers}}checked{{/if}}
              onchange="this.form.submit()">
            <label for="hideAnswers">
              Hide solved puzzle answers in web views (spoiler-free mode)
            </label>
          </p>
        </form>
      </p>
      {{#if isAdmin}}
      <p>
        You're an admin. Check out the <a href="admin">admin</a> page, but be careful!
      </p>
      {{/if}}
      <br>
      <h3>Tag and Tag Prefix Formats</h3>
      <p>
        The following tags and tag prefixes have specific meanings and behaviors:
      </p>
      <table class="tag-documentation">
        <tr>
          <th>Tag Format</th>
          <th>Description</th>
        </tr>
        <tr>
          <td><code>meta/NAME</code></td>
          <td>Marks a puzzle as a metapuzzle.</td>
        </tr>
        <tr>
          <td><code>in/NAME</code></td>
          <td>Associates a puzzle with a metapuzzle (where <code>NAME</code> matches the meta's tag suffix).</td>
        </tr>
        <tr>
          <td><code>priority/NUMBER</code></td>
          <td>
            Sets the sort order of the puzzle.
            Higher numbers appear higher in the list.
            Use 5 as the highest priority, and negative numbers to indicate that a puzzle should be ignored.
          </td>
        </tr>
        <tr>
          <td><code>no-count</code></td>
          <td>Excludes the puzzle from the solved and total puzzle counts on the dashboard.</td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>Puzzles tagged as events will appear in the events section of the dashboard.</td>
        </tr>
      </table>
    </div>
  </body>
</html>
